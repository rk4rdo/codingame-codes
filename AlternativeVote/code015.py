# -*- coding: utf-8 -*-
"""
Created on Fri Oct 26 14:35:42 2018

@author: rvillareal
"""
# Example 1 [Solution -> winner: Amy]
line1 = "3"
line2 = ["Bob", "Jack", "Amy"]
line3 = "7"
line4 = ["3 1 2", "1 3 2", "2 3 1", "1 3 2", "3 1 2", "1 2 3", "3 1 2"]

# Example 2 [Solution -> winner: Sue]
line1 = "3"
line2 = ["Bob", "Sue", "Bill"]
line3 = "5"
line4 = ["1 3 2", "2 1 3", "3 2 1", "1 3 2", "2 1 3"]

# Example 3 [Solution -> winner: Aude]
line1 = "5"
line2 = ["Thierry", "Peter", "Sandra", "Catherine", "Aude"]
line3 = "10"
line4 = ["1 5 2 4 3", "5 3 2 4 1", "5 3 1 2 4", "4 5 3 1 2", "4 3 5 1 2",
         "2 3 5 1 4", "5 3 2 1 4", "2 3 5 1 4", "5 3 2 1 4", "5 1 3 2 4"]

# Example 4 [Solution -> winner: Frederic]
line1 = "2"
line2 = ["Nicolas", "Frederic"]
line3 = "999"
line4 = ["1 2", "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1",
         "1 2", "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2",
         "1 2", "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1",
         "1 2", "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2",
         "1 2", "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1",
         "1 2", "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2",
         "1 2", "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2", "1 2",
         "1 2", "2 1", "2 1", "1 2", "2 1", "2 1", "2 1", "2 1", "2 1", "1 2",
         "2 1", "1 2", "1 2", "1 2", "2 1", "1 2", "2 1", "1 2", "1 2"]

#%%

import math

candidates = {}
nCandidates = int(line1)
for k in range(1, nCandidates + 1):
    candidates[k] = line2[k - 1]
votes = {}
nVotes = int(line3)
for k in range(nVotes):
    votes[k] = [[int(q) for q in line4[k].split()], 0]

del line1, line2, line3, line4

# First loop
result = {k: 0 for k in range(1, nCandidates + 1)}
for k in votes:
    lVote = votes[k][0]
    oVote = votes[k][1]
    result[lVote[oVote]] += 1

del lVote, oVote

allCandidates = list(candidates.keys())
while allCandidates:
    # Search for candidate with min. number of votes
    minVotes = math.inf
    minCandidates = []
    for k in result:
        if result[k] < minVotes:
            minVotes = result[k]
            minCandidates = [k]
        elif result[k] == minVotes:
            minCandidates.append(k)
    
    del minVotes, k
    
    # Rmv cand. with min. num. of votes (first if there are more than one)
    rmvCandidate = min(minCandidates)
    allCandidates.remove(rmvCandidate)
    result.pop(rmvCandidate, None)
    # Show removed candidate
    print(candidates[rmvCandidate])
    # Check if remains at least 2 or more candidates
    if len(allCandidates) > 1:
        # Re-calculate result
        for k in votes:
            lVote = votes[k][0]
            oVote = votes[k][1]
            if lVote[oVote] == rmvCandidate:
                # Search next candidate voted
                while lVote[oVote] not in allCandidates and oVote < len(lVote):
                    votes[k][1] += 1
                    oVote = votes[k][1]
                
                if lVote[oVote] in allCandidates:
                    result[lVote[oVote]] += 1
    else:
        # Show winner candidate
        print("winner:" + candidates[allCandidates[0]])
        break
